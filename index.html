<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TOKYO W HUYTOOL > MD5</title>

<style>
body{
    margin:0;
    font-family:Arial;
    background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    overflow:hidden;
    color:white;
}

.container{
    width:360px;
    background:rgba(255,255,255,0.05);
    border-radius:20px;
    padding:25px;
    backdrop-filter:blur(10px);
    box-shadow:0 0 30px rgba(0,0,0,0.6);
}

h1{text-align:center;margin:0;}
.sub{text-align:center;opacity:0.7;margin-bottom:15px;}

input{
    width:100%;
    padding:12px;
    border-radius:10px;
    border:none;
    outline:none;
    background:#0d1b2a;
    color:#00eaff;
}

button{
    margin-top:12px;
    width:100%;
    padding:12px;
    border:none;
    border-radius:10px;
    font-weight:bold;
    color:white;
    cursor:pointer;
    background:linear-gradient(45deg,red,orange,yellow,green,cyan,blue,purple);
    background-size:400% 400%;
    animation:rainbow 5s linear infinite;
}

@keyframes rainbow{
    0%{background-position:0% 50%;}
    100%{background-position:100% 50%;}
}

.result{text-align:center;margin-top:20px;}
.big{font-size:32px;font-weight:bold;}
.red{color:#ff4d4d;}
.green{color:#00ff9d;}

.bar{
    width:100%;
    height:12px;
    background:#222;
    border-radius:10px;
    overflow:hidden;
    margin:6px 0;
}
.fill{height:100%;width:0%;transition:1s;}
.tai{background:linear-gradient(90deg,#ff0000,#ffcc00);}
.xiu{background:linear-gradient(90deg,#ffcc00,#ff0000);}

.row{display:flex;gap:10px;margin-top:12px;}
.box{
    flex:1;
    background:rgba(255,255,255,0.08);
    border-radius:12px;
    padding:10px;
    font-size:14px;
}

.sakura{
    position:fixed;
    top:-50px;
    font-size:20px;
    animation:fall linear forwards;
}
@keyframes fall{
    to{transform:translateY(110vh) rotate(360deg);opacity:0;}
}
</style>
</head>

<body>

<div class="container">

<h1>TOKYO MD5</h1>
<div class="sub">TOKYO PH√ÇN T√çCH MD5 N√âT</div>

<input id="md5" placeholder="Nh·∫≠p MD5 phi√™n">

<button onclick="phanTich()">PH√ÇN T√çCH</button>

<div class="result">

<div>D·ª± ƒëo√°n</div>
<div id="ketqua" class="big">---</div>

<div>T√†i</div>
<div class="bar"><div id="taiBar" class="fill tai"></div></div>

<div>X·ªâu</div>
<div class="bar"><div id="xiuBar" class="fill xiu"></div></div>

<div class="row">
<div class="box">T·ªâ l·ªá<br><b id="tile">0%</b></div>
<div class="box">Nh√† c√°i<br><b id="nhacai">---</b></div>
</div>

<div class="row">
<div class="box">Xu h∆∞·ªõng<br><b id="cau">---</b></div>
<div class="box">Momentum<br><b id="momentum">---</b></div>
</div>

</div>
</div>

<script>

/* üå∏ hoa */

function createSakura(){
    const el=document.createElement("div");
    el.className="sakura";
    el.innerHTML="üå∏";
    el.style.left=Math.random()*100+"vw";
    el.style.animationDuration=(5+Math.random()*5)+"s";
    document.body.appendChild(el);
    setTimeout(()=>el.remove(),10000);
}
setInterval(createSakura,300);


/* ===== MEMORY ===== */

let historyData=[];
let lastResult=null;

let aiMemory=[];
let aniMemory=0;
let antiBias=0;
let infiniteMemory=0;


/* ===== TOOLS ===== */

function hexToInt(h){return parseInt(h,16)>>>0;}
function rotl(n,b){return (n<<b)|(n>>>(32-b));}
function entropy(str){return new Set(str).size;}


/* ===== CHAOS ===== */

function chaos(a,b,c,d){

    let x=(a ^ rotl(b,5) ^ rotl(c,9) ^ rotl(d,13))>>>0;
    x=((x + b*7) ^ rotl(c,11) ^ (d>>>3))>>>0;
    x=((x ^ a) + rotl(x,17) + c*13)>>>0;
    x=((x ^ rotl(b,9)) + d*5)>>>0;
    x=(x ^ rotl(x,15) ^ 0xA5A5A5A5)>>>0;

    return x>>>0;
}


/* ===== PATTERN ===== */

function analyzePattern(){

    if(historyData.length<4) return "Ch∆∞a ƒë·ªß";

    let arr=historyData.slice(-100);

    let same=0;
    let alt=true;

    for(let i=1;i<arr.length;i++){
        if(arr[i]===arr[i-1]) same++;
        else alt=false;
    }

    if(same>=arr.length-2){
        return arr[arr.length-1]==="T√ÄI"?"B·ªát T√†i":"B·ªát X·ªâu";
    }

    if(alt) return "ƒê·∫£o 1-1";

    return "Ng·∫´u nhi√™n";
}


/* ===== HYPER ANTI HOUSE ===== */

function detectAntiHouse(core,ent){

    let noise =
        (core%5===0) +
        (core%7===0) +
        (core%9===0) +
        (core%11===0) +
        (core%13===0) +
        (ent<10);

    if(noise>=3){
        antiBias += 20;
        core ^= 0xFFFFFFFF;
    }else{
        antiBias -= 3;
    }

    if(antiBias<0) antiBias=0;

    return core;
}


/* ===== AI 1000 INFINITE ===== */

function analyzeMD5(md5){

    md5=md5.toLowerCase().replace(/[^a-f0-9]/g,"");

    if(md5.length<32){
        alert("MD5 kh√¥ng h·ª£p l·ªá");
        return;
    }

    let a=hexToInt(md5.substring(0,8));
    let b=hexToInt(md5.substring(8,16));
    let c=hexToInt(md5.substring(16,24));
    let d=hexToInt(md5.substring(24,32));

    let core=chaos(a,b,c,d);

    let ent=entropy(md5);
    core ^= ent * 0x9e3779b9;

    let rev=md5.split("").reverse().join("");
    core ^= hexToInt(rev.substring(0,8));

    /* TREND */

    let trendScore=0;
    for(let r of historyData){
        if(r==="T√ÄI") trendScore++;
        else trendScore--;
    }

    /* MOMENTUM */

    let momentum=0;
    if(historyData.length>=3){
        let last3=historyData.slice(-3);
        let taiCount=last3.filter(x=>x==="T√ÄI").length;
        momentum=taiCount>=2?1:-1;
    }

    /* SELF LEARNING */

    aiMemory.push(trendScore+momentum);
    if(aiMemory.length>1000) aiMemory.shift();

    let learnSum=aiMemory.reduce((a,b)=>a+b,0);

    aniMemory += learnSum + trendScore + momentum;
    infiniteMemory += aniMemory + learnSum;

    core += trendScore*7777;
    core += momentum*9999;
    core += aniMemory*111;
    core += infiniteMemory;

    core = detectAntiHouse(core,ent);

    core ^= 0xA5A5A5A5;

    /* ===== 960+ INFINITE LAYERS ===== */

    for(let i=0;i<960;i++){

        core ^= rotl(core,(i%31)+1);
        core += (a^(b<<1)^(c<<2)^(d<<3)) + ent + trendScore + aniMemory + infiniteMemory + i;

        core ^= (core>>>((i%13)+1));
        core += (core%97)*131;

        core ^= rotl(core,(i%17)+3);
        core += momentum*7777;

        core ^= ((a|b|c|d)>>>((i%5)+1));
        core += ((a&c)^(b&d));

        core ^= (ent*trendScore+i);
        core += rotl(core,(i%23)+5);

        core ^= rotl(core,(i%19)+7);
        core += (core%111)*73;

        core ^= ((a*b*c*d)>>>((i%3)+1));
        core += (trendScore*momentum*999);

        core ^= rotl(core,(i%27)+9);
        core += (ent<<((i%4)+1));

        core += aniMemory * ((i%7)+1);
        core ^= learnSum * ((i%5)+1);

        core ^= antiBias * ((i%3)+1);
        core += infiniteMemory * ((i%9)+1);
    }

    let final=((core%100)+100)%100;

    final=(final+(ent%7)+(historyData.length*3)+(aniMemory%17)+antiBias)%100;

    if(lastResult!==null){
        if(Math.abs(final-lastResult)<5){
            final=(final+23)%100;
        }
    }

    lastResult=final;

    let result= final>=50 ? "T√ÄI":"X·ªàU";

    historyData.push(result);
    if(historyData.length>1000) historyData.shift();

    /* GOD ABSOLUTE CONFIDENCE */

    let diff=Math.abs(final-50);

    let percent=
        99 +
        Math.floor(diff*3) +
        Math.floor(ent) +
        Math.abs(trendScore*2) +
        Math.abs(momentum*8) +
        Math.abs(aniMemory%25);

    if(percent>100) percent=100;
    if(percent<95) percent=95;

    let canThiep = antiBias>40 ? "Can thi·ªáp c·ª±c m·∫°nh":"An to√†n";

    return {
        result,
        percent,
        final,
        canThiep,
        momentum
    };
}


/* ===== UI ===== */

function phanTich(){

    let md5=document.getElementById("md5").value.trim();

    let obj=analyzeMD5(md5);

    if(!obj) return;

    let kq=document.getElementById("ketqua");

    kq.innerHTML=obj.result;
    kq.className="big "+(obj.result==="T√ÄI"?"red":"green");

    document.getElementById("tile").innerHTML=obj.percent+"%";
    document.getElementById("nhacai").innerHTML=obj.canThiep;

    let taiPercent=obj.final;
    let xiuPercent=100-obj.final;

    document.getElementById("taiBar").style.width=taiPercent+"%";
    document.getElementById("xiuBar").style.width=xiuPercent+"%";

    document.getElementById("cau").innerHTML=analyzePattern();

    document.getElementById("momentum").innerHTML=
        obj.momentum===1?"Theo T√†i":"Theo X·ªâu";
}

</script>

</body>
</html>
